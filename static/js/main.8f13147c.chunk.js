(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{25:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(17),r=c.n(a),i=(c(25),c(10)),j=c.n(i),l=c(12),o=c(8),d=c(0),b=s.a.createContext(),h=function(e){var t=e.children,c=Object(n.useState)([]),s=Object(o.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),h=Object(o.a)(i,2),x=h[0],O=h[1],u=Object(n.useState)("spider"),p=Object(o.a)(u,2),m=p[0],v=p[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),N=g[0],S=g[1],w=Object(n.useCallback)(Object(l.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,fetch("https://www.omdbapi.com/?s=".concat(m,"&apikey=30cb0b35&"));case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,void 0==(n=c.Search)?(r([]),O(!1),S(!0)):(r(n),console.log(n,t),O(!1),S(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),[m]);return Object(n.useEffect)((function(){w()}),[w]),Object(d.jsx)(b.Provider,{value:{text:m,setText:v,data:a,loading:x,setLoading:O,resultStatus:N},children:t})},x=function(){return Object(n.useContext)(b)},O=function(){var e=x(),t=e.text,c=e.setText;return Object(d.jsx)("section",{className:"form-container",children:Object(d.jsx)("form",{children:Object(d.jsx)("input",{value:t,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Search for Movies"})})})},u=c(9),p=function(){return Object(d.jsx)("div",{className:"loading-container",children:Object(d.jsx)("div",{className:"loading"})})},m=function(){var e=x(),t=e.data,c=e.loading,n=e.resultStatus,s=e.text;return c?Object(d.jsx)(p,{}):n?Object(d.jsx)("div",{className:"loading-container",children:Object(d.jsx)("h1",{children:'No Result Found for "'.concat(s,'"')})}):Object(d.jsx)("section",{className:"movies-container",children:Object(d.jsx)("div",{className:"inner-movies-container",children:t&&t.map((function(e,t){var c=e.Poster,n=(e.Type,e.Title),s=e.imdbID;return Object(d.jsx)(u.b,{to:"/detail/".concat(s),children:Object(d.jsxs)("article",{children:[Object(d.jsx)("div",{className:"img-container",children:Object(d.jsx)("img",{src:c,alt:n})}),Object(d.jsx)("div",{className:"info-container",children:Object(d.jsx)("p",{children:n})})]},s)},t)}))})})},v=c(20),f=function(e){var t=e.match,c=x(),s=c.loading,a=c.setLoading,r=Object(n.useState)([]),i=Object(o.a)(r,2),b=i[0],h=i[1],O=function(){var e=Object(l.a)(j.a.mark((function e(){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,fetch("https://www.omdbapi.com/?i=".concat(t.params.id,"&apikey=30cb0b35"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,a(!1),h([n]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[]),s?Object(d.jsx)(p,{}):Object(d.jsx)("main",{className:"detail-container",children:b.map((function(e,t){for(var c=e.Title,n=e.Released,s=e.Genre,a=e.Director,r=e.Writer,i=e.Actors,j=e.Plot,l=e.Poster,o=e.imdbRating,b=e.imdbID,h=e.Type,x=e.totalSeasons,O=s.split(","),p=o/2,m=[],f=1;f<=parseInt(p);f++)m.push(f),f==parseInt(p)&&m.push(p);return console.log(m),Object(d.jsxs)("section",{children:[Object(d.jsxs)("article",{className:"detail-image-container",children:[Object(d.jsx)("img",{src:l,alt:c}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:c}),Object(d.jsxs)("p",{className:"type",children:["Type: ",h]}),Object(d.jsxs)("p",{className:"release",children:["Release date: ",n]}),Object(d.jsxs)("div",{className:"rating",children:["Rating :",Object(d.jsx)("div",{className:"star-container",children:m.map((function(e){var t=e;return Object(d.jsx)("div",{style:{display:"inline-block"},children:Object(d.jsx)("p",{style:{width:t.toString().length>2?"".concat(e/5*100,"%"):""},children:Object(d.jsx)(v.a,{className:"star"})})})}))}),Object(d.jsxs)("span",{children:[o,"/10"]})]})]})]}),Object(d.jsxs)("article",{className:"detail-info-container",children:[Object(d.jsxs)("div",{className:"genre-container",children:[Object(d.jsx)("h2",{children:"Genre :"}),Object(d.jsx)("div",{children:O.map((function(e){return Object(d.jsx)("p",{children:e})}))})]}),Object(d.jsxs)("div",{className:"plot-container",children:[Object(d.jsx)("h2",{children:"Plot"}),Object(d.jsx)("p",{children:j})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"Writer:"})," ",r]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"Actors:"})," ",i]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"Director:"})," ",a]}),"series"==h?Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"totalSeasons:"}),x]}):""]}),Object(d.jsx)(u.b,{to:"/",children:Object(d.jsx)("button",{className:"back",children:"Back To Search"})})]})]},b)}))})},g=(c(33),c(2));var N=function(){return Object(d.jsx)(u.a,{children:Object(d.jsxs)(g.c,{children:[Object(d.jsx)(g.a,{exact:!0,path:"/",children:Object(d.jsxs)("main",{children:[Object(d.jsx)("h1",{className:"heading",children:"Movies Search"}),Object(d.jsx)(O,{}),Object(d.jsx)(m,{})]})}),Object(d.jsx)(g.a,{path:"/detail/:id",component:f})]})})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(h,{children:Object(d.jsx)(N,{})})}),document.getElementById("root")),S()}},[[34,1,2]]]);
//# sourceMappingURL=main.8f13147c.chunk.js.map